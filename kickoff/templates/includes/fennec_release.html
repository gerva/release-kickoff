{% macro input_element(element, help_text, input_type, placeholder) -%}
<div class="control-group controls-rows">
    {{ element.label(class="control-label")|safe }}
    <div class="controls">
      {{ element(class=input_type, placeholder=placeholder)|safe  }}
      <span class="badge badge-info help" title="" data-placement="bottom" data-toggle="tooltip" href="#" data-original-title="{{ help|safe }}">?</span>
    </div>
</div>
{%- endmacro %}

{{ input_element(
    element = fennecForm.version,
    input_type = "input-xxlarge",
    placeholder = "15.0b6",
    help_text = 'version number')
}}
{{ input_element(
    element = fennecForm.buildNumber,
    input_type = "input-xxlarge",
    placeholder = "1",
    help_text = "Build number must be set to 1 for the first release with this version. If a previous build has already been attempted and it has tagged the source repositories, build 2 or higher should be used. Generally, the autofilled value for this is correct.")
}}
<div class="control-group controls-row">
    <label class="control-label" for="fennec-release-url">Release url:</label>
    <div class="controls">
      <input id="fennec-release-url" name="fennec-release-url" class="input-xxlarge", placeholder="https://hg.mozilla.org/<release branch>/rev/<revision>" type="text" value="">
      <span class="badge badge-info help" title="" data-placement="bottom" data-toggle="tooltip" href="#" data-original-title="release url">?
      </span>
    </div>
</div>
{{ input_element(
    element = fennecForm.l10nChangesets,
    input_type = "input-xxlarge",
    placeholder = '{"ca": {"revision": "abcdef123456", "platforms": ["android"]}}',
    help_text = "The l10n changesets for this release, in JSON format. Betas and release-channel releases these are normally copied from the <a href='https://l10n.mozilla.org/shipping/milestones'>L10n Dashboard</a>. ESR releases re-use the same changesets as the previous release on the same branch. For more information consult <a href='https://wiki.mozilla.org/Release:Release_Automation_on_Mercurial:Starting_a_Release#L10N_Changesets'>the milestone creation documentation</a>")
}}
{{ input_element(
    element = fennecForm.dashboardCheck,
    input_type = "checkbox",
    placeholder = None,
    help_text = "Whether or not to ensure that the changesets given match the ones on the <a href='https://l10n.mozilla.org/shipping/milestones'>L10n Dashboard</a>. This is normally turned on for betas and turned off for all other releases.")
}}
<h4>Advanced options:</h4>
<hr>
{{ input_element(
    element = fennecForm.branch,
    input_type = "input-medium",
    placeholder = "releases/mozilla-beta",
    help_text = "The branch to build the release from, relative to the root of the VCS.")
}}

{{ input_element(
   element = fennecForm.mozillaRevision,
   input_type = "input-medium",
   placeholder = "abcdef123456",
   help_text = "If a relbranch is specified this field is disabled and ignored. The tip of the relbranch will be used instead.")
}}

<script type='text/javascript'>
$(document).ready(function() {
    setupVersionSuggestions(
        $('#{{ fennecForm.version.id }}'),
        {{ fennecForm.version.suggestions|safe }},
        $('#{{ fennecForm.buildNumber.id }}'),
        {{ fennecForm.buildNumber.suggestions|safe }}
    );
    setupBranchSuggestions(
        $('#{{ fennecForm.branch.id }}'),
        {{ fennecForm.branch.suggestions|safe }}
    );
    setupRevisionDisabling(
        $('#{{ fennecForm.mozillaRelbranch.id }}'),
        $('#{{ fennecForm.mozillaRevision.id }}')
    );
    $( '.help' ).tooltip({
      html: true,
      trigger: 'hover',
      delay: { show: 70, hide: 1000 },
    });
})
</script>
{{ fennecForm.hidden_tag() }}
